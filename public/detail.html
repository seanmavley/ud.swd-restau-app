<div ng-controller="detailCtrl">
    <div class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-image">
                    <img ng-src="{{detail.photo}}">
                </div>
            </div>
        </div>
        <div class="col s12 m6">
            <h3>{{ detail.name }}</h3>
            <p>{{ detail.about }}</p>
            <p>{{ detail.address.street }}, {{ detail.address.city }}, {{ detail.address.state }}, {{ detail.address.zip_code }}</p>
            <p>{{ detail.phone }}</p>
            <p>Open on: <br/><strong>{{ detail.open.days }}</strong> during <strong>{{ detail.open.hours }}</strong></p>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m10">
            <div class="flow-text">User Reviews</div>
            <div class="card-panel" ng-repeat="review in detail.reviews">
                <span class="card-title">{{ review.name }} <small>{{ review.createdAt | date : longDate }}</small></span>
                <p> {{ review.message }}</p>
                <h6 class="flow-text">Rate</h6>
                <div class="progress" style="width:45px;">
                    <div class="determinate" style="width: {{ review.rate * 10 }}%"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <form class="col s12 m10">
            <h1 class="flow-text">Add your review</h1>
            <div class="divider"></div>
            <div class="row">
                <div class="input-field col s12">
                    <select class="browser-default" ng-model="formData.rate">
                        <option value="" disabled selected>Choose Rating</option>
                        <option value="1">Dislike</option>
                        <option value="2">Meh</option>
                        <option value="3">Okay</option>
                        <option value="4">Great</option>
                        <option value="5">Excellent</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="full_name" type="text" ng-model="formData.name" class="validate">
                    <label for="full_name">Full name</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="email" type="email" ng-model="formData.email" class="validate">
                    <label for="email">Email</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <textarea id="textarea1" class="materialize-textarea" ng-model="formData.message" length="120"></textarea>
                    <label for="textarea1">Review</label>
                </div>
            </div>
            <div class="row">
                <button type="submit" ng-click="createReview()" class="btn-floating btn-large waves-effect waves-light"><i class="material-icons">add</i></button>
            </div>
        </form>
    </div>
</div>
